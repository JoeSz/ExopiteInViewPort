!function(i,o){"use strict";var l="exopiteInViewPort";function s(e,t){this.element=e,this.settings=i.extend({offset:0,throttle:100,paddingTop:0,paddingBottom:0,onInit:function(e){},onEnter:function(e,t){},onLeft:function(e,t){},onWholeInside:function(e,t){}},t),this._name=l,this.$element=i(e),this.init()}i.extend(s.prototype,{init:function(){var e=this;e.settings.onInit.call(this,e.$element),e.buildCache(),e.bindEvents(),e.setDimensions(),e.checkViewport()},bindEvents:function(){var e=this;i(o).on("scroll."+e._name,e.throttle(e.settings.throttle,function(){e.checkViewport()})),i(o).on("resize."+e._name,e.throttle(150,function(){e.setDimensions(),e.checkViewport()}))},destroy:function(){this.unbindEvents(),this.$element.removeData("plugin_"+l)},unbindEvents:function(){this.$element.off("."+this._name),i(o).off("."+this._name)},buildCache:function(){this.$element=i(this.element)},throttle:function(n,i){var o=null;return function(){var e=arguments,t=this;o=o||setTimeout(function(){i.apply(t,e),o=null},n)}},setDimensions:function(){var e=this;e.viewportHeight=i(o).height(),e.elementHeight=this.$element.outerHeight(),e.elementTop=this.$element.offset().top+this.settings.offset,e.elementBottom=e.elementTop+e.elementHeight},checkViewport:function(){var e=this,t=i(o).scrollTop()+e.settings.paddingTop,n=t+e.viewportHeight-e.settings.paddingBottom;e.elementBottom>t&&e.elementTop<n||e.elementTop<=t&&e.elementBottom>=n||e.elementBottom<n&&e.elementTop>t&&e.elementHeight>e.viewportHeight?e.elementTop>=t&&e.elementBottom<=n?e.$element.data("inviewport")||(e.$element.data("inviewport",!0),e.$element.data("partlyinviewport",!1),e.settings.onWholeInside.call(this,e.$element,!0,!1)):e.elementTop<=t&&e.elementBottom>=n&&e.elementHeight>e.viewportHeight?e.$element.data("inviewport")||(e.$element.data("inviewport",!0),e.$element.data("partlyinviewport",!1),e.settings.onWholeInside.call(this,e.$element,!0,!0)):e.elementTop<t?e.$element.data("partlyinviewport")||(e.$element.data("partlyinviewport",!0),e.$element.data("inviewport")?e.settings.onWholeInside.call(this,e.$element,!1):e.settings.onEnter.call(this,e.$element,"top"),e.$element.data("inviewport",!1)):e.elementBottom>n?e.$element.data("partlyinviewport")||(e.$element.data("partlyinviewport",!0),e.$element.data("inviewport")?e.settings.onWholeInside.call(this,e.$element,!1):e.settings.onEnter.call(this,e.$element,"bottom"),e.$element.data("inviewport",!1)):console.log("Unknown"):(e.$element.data("inviewport")||e.$element.data("partlyinviewport"))&&(e.$element.data("inviewport")&&e.settings.onWholeInside.call(this,e.$element,!1),e.$element.data("inviewport",!1),e.$element.data("partlyinviewport",!1),e.elementTop>n?e.settings.onLeft.call(this,e.$element,"bottom"):e.elementBottom<t&&e.settings.onLeft.call(this,e.$element,"top"))}}),i.fn[l]=function(t){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=i.data(this,"plugin_"+l);e?"string"==typeof t&&"function"==typeof e[t]&&e[t].apply(e,n):i.data(this,"plugin_"+l,new s(this,t))})}}(jQuery,window,document);
