!function(i,o){"use strict";var l="exopiteInViewPort";function s(t,e){this.element=t,this.settings=i.extend({offset:0,throttle:100,paddingTop:0,paddingBottom:0,onInit:function(t){},onEnter:function(t,e){},onLeft:function(t,e){},onWholeInside:function(t,e){}},e),this._name=l,this.$element=i(t),this.init()}i.extend(s.prototype,{init:function(){var t=this;t.settings.onInit.call(this,t.$element),t.buildCache(),t.bindEvents(),t.checkViewport()},bindEvents:function(){var t=this;i(o).on("scroll."+t._name,t.throttle(t.settings.throttle,function(){t.checkViewport()}))},destroy:function(){this.unbindEvents(),this.$element.removeData("plugin_"+l)},unbindEvents:function(){this.$element.off("."+this._name),i(o).off("."+this._name)},buildCache:function(){this.$element=i(this.element),this.elementTop=this.$element.offset().top+this.settings.offset,this.elementBottom=this.elementTop+this.$element.outerHeight()},throttle:function(n,i){var o=null;return function(){var t=arguments,e=this;o=o||setTimeout(function(){i.apply(e,t),o=null},n)}},checkViewport:function(){var t=this,e=i(o).scrollTop()+t.settings.paddingTop,n=e+i(o).height()-t.settings.paddingBottom;t.elementBottom>e&&t.elementTop<n?t.elementTop>=e&&t.elementBottom<=n?t.$element.data("inviewport")||(t.$element.data("inviewport",!0),t.$element.data("partlyinviewport",!1),t.settings.onWholeInside.call(this,t.$element,!0)):t.elementTop<e?t.$element.data("partlyinviewport")||(t.$element.data("partlyinviewport",!0),t.$element.data("inviewport")?t.settings.onWholeInside.call(this,t.$element,!1):t.settings.onEnter.call(this,t.$element,"top"),t.$element.data("inviewport",!1)):t.elementBottom>n&&(t.$element.data("partlyinviewport")||(t.$element.data("partlyinviewport",!0),t.$element.data("inviewport")?t.settings.onWholeInside.call(this,t.$element,!1):t.settings.onEnter.call(this,t.$element,"bottom"),t.$element.data("inviewport",!1))):(t.$element.data("inviewport")||t.$element.data("partlyinviewport"))&&(t.$element.data("inviewport")&&t.settings.onWholeInside.call(this,t.$element,!1),t.$element.data("inviewport",!1),t.$element.data("partlyinviewport",!1),t.elementTop>n?t.settings.onLeft.call(this,t.$element,"bottom"):t.elementBottom<e&&t.settings.onLeft.call(this,t.$element,"top"))}}),i.fn[l]=function(e){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=i.data(this,"plugin_"+l);t?"string"==typeof e&&"function"==typeof t[e]&&t[e].apply(t,n):i.data(this,"plugin_"+l,new s(this,e))})}}(jQuery,window,document);
